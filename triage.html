<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triage & Emergency - Prince Alex Hospital HMS</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
        import { getAuth } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBYfTWtl-N21DxVATxVnhCofgQsVu3xK4M",
            authDomain: "store-e88d9.firebaseapp.com",
            projectId: "store-e88d9",
            storageBucket: "store-e88d9.firebasestorage.app",
            messagingSenderId: "30797525855",
            appId: "1:30797525855:web:335287605ec648f747fcea"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const auth = getAuth(app);

        // Make Firebase available globally
        window.firebaseApp = app;
        window.firebaseDb = db;
        window.firebaseAuth = auth;
    </script>
</head>
<body>
    <div class="app-container">
        <div class="sidebar">
            <div class="sidebar-header">
                <h1>üè• Prince Alex Hospital</h1>
                <h2>Hospital Management System (HMS)</h2>
            </div>
            <div class="user-info">
                <h3 class="welcome-message">Welcome User</h3>
                <p>Department</p>
            </div>
        </div>
        
        <div class="main-content">
            <div class="content-header">
                <h1>üö® Triage & Emergency</h1>
                <p>Patient intake, vital signs, and urgency assessment</p>
            </div>
            
            <div class="card">
                <div class="card-header">
                    Patient Intake Form
                </div>
                <div class="card-body">
                    <form id="triageForm">
                        <div class="form-row">
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="patientName">Patient Name:</label>
                                    <input type="text" id="patientName" name="patientName" required>
                                </div>
                                <div class="form-group">
                                    <label for="patientAge">Age:</label>
                                    <input type="number" id="patientAge" name="patientAge" min="0" max="120" required>
                                </div>
                                <div class="form-group">
                                    <label for="patientGender">Gender:</label>
                                    <select id="patientGender" name="patientGender" required>
                                        <option value="">Select Gender</option>
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-col">
                                <div class="form-group">
                                    <label for="arrivalTime">Arrival Time:</label>
                                    <input type="datetime-local" id="arrivalTime" name="arrivalTime" required>
                                </div>
                                <div class="form-group">
                                    <label for="modeOfArrival">Mode of Arrival:</label>
                                    <select id="modeOfArrival" name="modeOfArrival" required>
                                        <option value="">Select Mode</option>
                                        <option value="Ambulance">Ambulance</option>
                                        <option value="Walk-in">Walk-in</option>
                                        <option value="Private Vehicle">Private Vehicle</option>
                                        <option value="Police">Police</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="chiefComplaint">Chief Complaint:</label>
                                    <input type="text" id="chiefComplaint" name="chiefComplaint" placeholder="Primary reason for visit" required>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-col">
                                <h3>Vital Signs</h3>
                                <div class="form-group">
                                    <label for="temperature">Temperature (¬∞F):</label>
                                    <input type="number" id="temperature" name="temperature" step="0.1" min="90" max="110">
                                </div>
                                <div class="form-group">
                                    <label for="bloodPressure">Blood Pressure:</label>
                                    <input type="text" id="bloodPressure" name="bloodPressure" placeholder="120/80">
                                </div>
                            </div>
                            <div class="form-col">
                                <h3>Additional Vitals</h3>
                                <div class="form-group">
                                    <label for="heartRate">Heart Rate (BPM):</label>
                                    <input type="number" id="heartRate" name="heartRate" min="30" max="200">
                                </div>
                                <div class="form-group">
                                    <label for="oxygenSaturation">Oxygen Saturation (%):</label>
                                    <input type="number" id="oxygenSaturation" name="oxygenSaturation" min="70" max="100">
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="urgencyLevel">Urgency Level:</label>
                            <select id="urgencyLevel" name="urgencyLevel" required>
                                <option value="">Select Urgency Level</option>
                                <option value="Critical">üö® Critical - Immediate attention required</option>
                                <option value="Urgent">‚ö†Ô∏è Urgent - Within 1 hour</option>
                                <option value="Non-urgent">‚úÖ Non-urgent - Routine care</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="triageNotes">Triage Notes:</label>
                            <textarea id="triageNotes" name="triageNotes" rows="3" placeholder="Additional observations, symptoms, or concerns..."></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">Process Triage</button>
                    </form>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    Triage Queue
                </div>
                <div class="card-body">
                    <div class="search-container">
                        <input type="text" id="searchTriage" class="search-input" placeholder="Search patients...">
                        <select id="filterTriage" class="filter-select">
                            <option value="">All Patients</option>
                            <option value="Critical">Critical</option>
                            <option value="Urgent">Urgent</option>
                            <option value="Non-urgent">Non-urgent</option>
                        </select>
                    </div>
                    <div id="triageQueue">
                        <!-- Triage queue will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="firebase-auth.js"></script>
    <script src="shared.js"></script>
    <script src="triage.js"></script>
</body>
</html>
